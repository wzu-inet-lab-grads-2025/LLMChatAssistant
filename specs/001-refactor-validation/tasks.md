# ä»»åŠ¡: é‡æ„åç³»ç»ŸéªŒè¯

**è¾“å…¥**: æ¥è‡ª `/specs/001-refactor-validation/` çš„è®¾è®¡æ–‡æ¡£
**å‰ç½®æ¡ä»¶**: plan.mdã€spec.md(ç”¨æˆ·æ•…äº‹å¿…éœ€)ã€research.mdã€data-model.mdã€contracts/

**æµ‹è¯•**: æœ¬åŠŸèƒ½æ˜¯éªŒè¯æµ‹è¯•åŠŸèƒ½ï¼Œæ‰€æœ‰ä»»åŠ¡éƒ½ä¸æµ‹è¯•ç›¸å…³ã€‚

**ç»„ç»‡ç»“æ„**: ä»»åŠ¡æŒ‰ç”¨æˆ·æ•…äº‹åˆ†ç»„ï¼Œä»¥ä¾¿æ¯ä¸ªæ•…äº‹èƒ½å¤Ÿç‹¬ç«‹å®æ–½å’Œæµ‹è¯•ã€‚

## æ ¼å¼: `[ID] [P?] [Story] æè¿°`
- **[P]**: å¯ä»¥å¹¶è¡Œè¿è¡Œ(ä¸åŒæ–‡ä»¶ï¼Œæ— ä¾èµ–å…³ç³»)
- **[Story]**: æ­¤ä»»åŠ¡å±äºå“ªä¸ªç”¨æˆ·æ•…äº‹(ä¾‹å¦‚: US1ã€US2ã€US3)
- åœ¨æè¿°ä¸­åŒ…å«ç¡®åˆ‡çš„æ–‡ä»¶è·¯å¾„

## è·¯å¾„çº¦å®š
- **æµ‹è¯•ä»£ç **: `tests/validation/`
- **æµ‹è¯•æ•°æ®**: `test_files_upload/`
- **æŠ¥å‘Šè¾“å‡º**: `reports/`
- **æ—¥å¿—è¾“å‡º**: `logs/`

---

## é˜¶æ®µ 1: è®¾ç½®(å…±äº«åŸºç¡€è®¾æ–½)

**ç›®çš„**: æµ‹è¯•ç¯å¢ƒåˆå§‹åŒ–å’ŒåŸºæœ¬ç»“æ„

- [x] T001 åœ¨ tests/validation/ ç›®å½•ä¸‹åˆ›å»ºæµ‹è¯•ç›®å½•ç»“æ„
- [x] T002 éªŒè¯ Python 3.11 ç¯å¢ƒé…ç½® (éµå¾ªç« ç¨‹: å¼€å‘ç¯å¢ƒæ ‡å‡†)
- [x] T003 éªŒè¯ uv è™šæ‹Ÿç¯å¢ƒå’Œä¾èµ–å®‰è£… (éµå¾ªç« ç¨‹: å¼€å‘ç¯å¢ƒæ ‡å‡†)
- [x] T004 [P] éªŒè¯ ZHIPU_API_KEY ç¯å¢ƒå˜é‡å·²é…ç½® (éµå¾ªç« ç¨‹: æµ‹è¯•çœŸå®æ€§)
- [x] T005 [P] åœ¨ logs æ–‡ä»¶å¤¹ä¸­åˆ›å»ºæµ‹è¯•æ—¥å¿—æ–‡ä»¶ test_validation.log (éµå¾ªç« ç¨‹: æ–‡æ¡£ä¸å¯è¿½æº¯æ€§)
- [x] T006 [P] åˆ›å»º reports/ ç›®å½•ç”¨äºå­˜æ”¾æµ‹è¯•æŠ¥å‘Š
- [x] T007 [P] å®‰è£…æµ‹è¯•ä¾èµ– pytestã€pytest-asyncioã€pytest-html (éµå¾ªç« ç¨‹: å¼€å‘ç¯å¢ƒæ ‡å‡†)

---

## é˜¶æ®µ 1.5: ç‰ˆæœ¬æ§åˆ¶æ£€æŸ¥ç‚¹

**ç›®çš„**: ç¡®ä¿è®¾ç½®é˜¶æ®µå®Œæˆå¹¶éªŒè¯ç¯å¢ƒå°±ç»ª

- [x] T008 è¿è¡Œ pytest --version éªŒè¯æµ‹è¯•æ¡†æ¶å®‰è£…
- [ ] T009 æäº¤è®¾ç½®é˜¶æ®µä»£ç ï¼Œæ¸…æ™°æè¿°æµ‹è¯•ç¯å¢ƒé…ç½® (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)

---

## é˜¶æ®µ 2: åŸºç¡€(é˜»å¡å‰ç½®æ¡ä»¶)

**ç›®çš„**: æµ‹è¯•åŸºç¡€è®¾æ–½å’Œå…±äº«fixtures

**âš ï¸ å…³é”®**: åœ¨æ­¤é˜¶æ®µå®Œæˆä¹‹å‰ï¼Œæ— æ³•å¼€å§‹ä»»ä½•ç”¨æˆ·æ•…äº‹æµ‹è¯•

- [x] T010 åœ¨ tests/validation/conftest.py ä¸­åˆ›å»º pytest é…ç½®å’Œå‘½ä»¤è¡Œå‚æ•°
- [x] T011 åœ¨ tests/validation/conftest.py ä¸­å®ç° pytest_configure é’©å­éªŒè¯ API key
- [x] T012 [P] åœ¨ tests/validation/conftest.py ä¸­å®ç° fresh_agent fixture
- [x] T013 [P] åœ¨ tests/validation/conftest.py ä¸­å®ç° fresh_history fixture
- [x] T014 [P] åœ¨ tests/validation/conftest.py ä¸­å®ç° clean_test_environment fixture
- [x] T015 é…ç½®æ—¥å¿—ç³»ç»Ÿå†™å…¥ logs/test_validation.log (éµå¾ªç« ç¨‹: æ–‡æ¡£ä¸å¯è¿½æº¯æ€§)
- [x] T016 [P] åˆ›å»º tests/validation/helpers/assertions.py å®ç°æ–­è¨€è¾…åŠ©ç±» AssertionHelper
- [x] T017 [P] åˆ›å»ºæµ‹è¯•æ•°æ®æ–‡ä»¶ test_files_upload/readme.txt
- [x] T018 [P] åˆ›å»ºæµ‹è¯•æ•°æ®æ–‡ä»¶ test_files_upload/data.json
- [x] T019 åˆ›å»º tests/validation/helpers/ ç›®å½•ç»“æ„

---

## é˜¶æ®µ 2.5: ç‰ˆæœ¬æ§åˆ¶æ£€æŸ¥ç‚¹

**ç›®çš„**: ç¡®ä¿æµ‹è¯•åŸºç¡€è®¾æ–½å®Œæˆå¹¶éªŒè¯

- [x] T020 è¿è¡Œ pytest tests/validation/ --collect-only éªŒè¯æµ‹è¯•å¯è¢«æ”¶é›†
- [ ] T021 æäº¤æµ‹è¯•åŸºç¡€è®¾æ–½ä»£ç ï¼Œæ¸…æ™°æè¿°fixtureså’Œè¾…åŠ©å‡½æ•° (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)

**æ£€æŸ¥ç‚¹**: æµ‹è¯•åŸºç¡€å°±ç»ª - ç°åœ¨å¯ä»¥å¼€å§‹ç¼–å†™ç”¨æˆ·æ•…äº‹æµ‹è¯•

---

## é˜¶æ®µ 3: ç”¨æˆ·æ•…äº‹ 1 - AgentåŠŸèƒ½éªŒè¯(ä¼˜å…ˆçº§: P1)ğŸ¯ MVP

**ç›®æ ‡**: éªŒè¯é‡æ„åçš„åç«¯agentèƒ½å¤Ÿæ­£ç¡®å¤„ç†å„ç±»ç”¨æˆ·è¯·æ±‚å¹¶è¿”å›é¢„æœŸç»“æœ

**ç‹¬ç«‹æµ‹è¯•**: å¯ä»¥é€šè¿‡å¯åŠ¨åç«¯æœåŠ¡ï¼Œå‘é€å„ç§ç±»å‹çš„æµ‹è¯•è¯·æ±‚ï¼ˆç®€å•å¯¹è¯ã€å¤æ‚æŸ¥è¯¢ã€å·¥å…·è°ƒç”¨ç­‰ï¼‰ï¼ŒéªŒè¯agentèƒ½å¦æ­£ç¡®ç†è§£è¯·æ±‚ã€è°ƒç”¨åˆé€‚çš„å·¥å…·å¹¶è¿”å›æ ¼å¼æ­£ç¡®çš„ç»“æœ

### ç”¨æˆ·æ•…äº‹ 1 çš„æµ‹è¯•

**æ³¨æ„**: æœ¬åŠŸèƒ½æ˜¯æµ‹è¯•åŠŸèƒ½ï¼Œæ‰€ä»¥ä»»åŠ¡æ˜¯ç¼–å†™æµ‹è¯•ä»£ç 

- [x] T022 [P] [US1] åœ¨ tests/validation/test_agent.py ä¸­åˆ›å»ºæµ‹è¯•æ–‡ä»¶å’ŒåŸºæœ¬ç»“æ„
- [x] T023 [P] [US1] åœ¨ tests/validation/test_agent.py ä¸­å®ç° test_agent_simple_chat æµ‹è¯•ç”¨ä¾‹ï¼ˆç®€å•å¯¹è¯è¯·æ±‚ï¼‰
- [x] T024 [P] [US1] åœ¨ tests/validation/test_agent.py ä¸­å®ç° test_agent_tool_call æµ‹è¯•ç”¨ä¾‹ï¼ˆå·¥å…·è°ƒç”¨è¯·æ±‚ï¼‰
- [x] T025 [P] [US1] åœ¨ tests/validation/test_agent.py ä¸­å®ç° test_agent_complex_reasoning æµ‹è¯•ç”¨ä¾‹ï¼ˆå¤šæ­¥æ¨ç†è¯·æ±‚ï¼‰
- [x] T026 [P] [US1] åœ¨ tests/validation/test_agent.py ä¸­å®ç° test_agent_error_handling æµ‹è¯•ç”¨ä¾‹ï¼ˆé”™è¯¯è¾“å…¥å¤„ç†ï¼‰
- [x] T027 [US1] åœ¨ tests/validation/test_agent.py ä¸­å®ç° test_agent_streaming_response æµ‹è¯•ç”¨ä¾‹ï¼ˆæµå¼è¾“å‡ºï¼‰

---

## é˜¶æ®µ 3.5: ç‰ˆæœ¬æ§åˆ¶æ£€æŸ¥ç‚¹

**ç›®çš„**: ç¡®ä¿AgentåŠŸèƒ½æµ‹è¯•å®Œæˆå¹¶è¾¾åˆ°100%é€šè¿‡ç‡

- [x] T028 è¿è¡Œ pytest tests/validation/test_agent.py -v éªŒè¯æ‰€æœ‰Agentæµ‹è¯•é€šè¿‡ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)
- [x] T029 éªŒè¯P1åŠŸèƒ½(Agent)è¾¾åˆ°100%é€šè¿‡ç‡è¦æ±‚
- [ ] T030 æäº¤ç”¨æˆ·æ•…äº‹1æµ‹è¯•ä»£ç ï¼Œæ¸…æ™°æè¿°AgentåŠŸèƒ½å’Œæµ‹è¯•ç»“æœ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)

**æ£€æŸ¥ç‚¹**: æ­¤æ—¶ï¼ŒAgentåŠŸèƒ½æµ‹è¯•åº”è¯¥å®Œå…¨é€šè¿‡ä¸”ç‹¬ç«‹å¯è¿è¡Œ

---

## é˜¶æ®µ 4: ç”¨æˆ·æ•…äº‹ 2 - å‰åç«¯æ•°æ®ä¼ è¾“éªŒè¯(ä¼˜å…ˆçº§: P1)

**ç›®æ ‡**: éªŒè¯åç«¯èƒ½å¤Ÿæ­£ç¡®è¿”å›ç»“æœå¹¶é€šè¿‡åè®®å‘é€ç»™å‰ç«¯ï¼Œå‰ç«¯èƒ½å¤Ÿæ­£ç¡®è§£æåç«¯è¿”å›çš„æ•°æ®

**ç‹¬ç«‹æµ‹è¯•**: å¯ä»¥é€šè¿‡å¯åŠ¨å‰åç«¯æœåŠ¡ï¼Œåœ¨CLIå®¢æˆ·ç«¯å‘é€å„ç§è¯·æ±‚ï¼Œæ£€æŸ¥å‰ç«¯æ¥æ”¶åˆ°çš„æ•°æ®ç»“æ„æ˜¯å¦æ­£ç¡®ï¼ŒéªŒè¯å‰ç«¯èƒ½å¦æ­£ç¡®è§£æå’Œæ˜¾ç¤ºæ•°æ®

### ç”¨æˆ·æ•…äº‹ 2 çš„æµ‹è¯•

- [x] T031 [P] [US2] åœ¨ tests/validation/test_data_transmission.py ä¸­åˆ›å»ºæµ‹è¯•æ–‡ä»¶å’ŒåŸºæœ¬ç»“æ„
- [x] T032 [P] [US2] åœ¨ tests/validation/test_data_transmission.py ä¸­å®ç° test_text_response_transmission æµ‹è¯•ç”¨ä¾‹ï¼ˆæ–‡æœ¬å“åº”ä¼ è¾“ï¼‰
- [x] T033 [P] [US2] åœ¨ tests/validation/test_data_transmission.py ä¸­å®ç° test_special_characters_parsing æµ‹è¯•ç”¨ä¾‹ï¼ˆç‰¹æ®Šå­—ç¬¦å¤„ç†ï¼‰
- [x] T034 [P] [US2] åœ¨ tests/validation/test_data_transmission.py ä¸­å®ç° test_tool_result_parsing æµ‹è¯•ç”¨ä¾‹ï¼ˆå·¥å…·æ‰§è¡Œç»“æœè§£æï¼‰
- [x] T035 [P] [US2] åœ¨ tests/validation/test_data_transmission.py ä¸­å®ç° test_error_message_display æµ‹è¯•ç”¨ä¾‹ï¼ˆé”™è¯¯ä¿¡æ¯æ˜¾ç¤ºï¼‰
- [x] T036 [US2] åœ¨ tests/validation/test_data_transmission.py ä¸­å®ç° test_large_data_transmission æµ‹è¯•ç”¨ä¾‹ï¼ˆå¤§æ•°æ®é‡ä¼ è¾“ï¼‰

---

## é˜¶æ®µ 4.5: ç‰ˆæœ¬æ§åˆ¶æ£€æŸ¥ç‚¹

**ç›®çš„**: ç¡®ä¿æ•°æ®ä¼ è¾“æµ‹è¯•å®Œæˆå¹¶è¾¾åˆ°100%é€šè¿‡ç‡

- [x] T037 è¿è¡Œ pytest tests/validation/test_data_transmission.py -v éªŒè¯æ‰€æœ‰æ•°æ®ä¼ è¾“æµ‹è¯•é€šè¿‡ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)
- [x] T038 éªŒè¯P1åŠŸèƒ½(æ•°æ®ä¼ è¾“)è¾¾åˆ°100%é€šè¿‡ç‡è¦æ±‚
- [ ] T039 æäº¤ç”¨æˆ·æ•…äº‹2æµ‹è¯•ä»£ç ï¼Œæ¸…æ™°æè¿°æ•°æ®ä¼ è¾“åŠŸèƒ½å’Œæµ‹è¯•ç»“æœ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)

**æ£€æŸ¥ç‚¹**: æ­¤æ—¶ï¼ŒP1åŠŸèƒ½(Agentå’Œæ•°æ®ä¼ è¾“)æµ‹è¯•éƒ½åº”è¯¥å®Œå…¨é€šè¿‡

---

## é˜¶æ®µ 5: ç”¨æˆ·æ•…äº‹ 3 - æ–‡ä»¶ä¸Šä¼ ä¸‹è½½åŠŸèƒ½éªŒè¯(ä¼˜å…ˆçº§: P2)

**ç›®æ ‡**: éªŒè¯é‡æ„åçš„ç³»ç»Ÿæ”¯æŒæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½åŠŸèƒ½ï¼Œä¸”æ“ä½œæ­£ç¡®æ— è¯¯

**ç‹¬ç«‹æµ‹è¯•**: å¯ä»¥é€šè¿‡CLIå®¢æˆ·ç«¯æ‰§è¡Œæ–‡ä»¶ä¸Šä¼ å‘½ä»¤ï¼ŒéªŒè¯æ–‡ä»¶èƒ½å¦æ­£ç¡®ä¼ è¾“åˆ°æœåŠ¡å™¨æŒ‡å®šä½ç½®ï¼›æ‰§è¡Œæ–‡ä»¶è¯»å–/ä¸‹è½½å‘½ä»¤ï¼ŒéªŒè¯æ–‡ä»¶èƒ½å¦æ­£ç¡®è¿”å›ç»™å®¢æˆ·ç«¯å¹¶ä¿å­˜

### ç”¨æˆ·æ•…äº‹ 3 çš„æµ‹è¯•

- [x] T040 [P] [US3] åœ¨ tests/validation/test_file_operations.py ä¸­åˆ›å»ºæµ‹è¯•æ–‡ä»¶å’ŒåŸºæœ¬ç»“æ„
- [x] T041 [P] [US3] åœ¨ tests/validation/test_file_operations.py ä¸­å®ç° test_text_file_upload_download æµ‹è¯•ç”¨ä¾‹ï¼ˆæ–‡æœ¬æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ï¼‰
- [x] T042 [P] [US3] åœ¨ tests/validation/test_file_operations.py ä¸­å®ç° test_binary_file_upload_download æµ‹è¯•ç”¨ä¾‹ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ï¼‰
- [x] T043 [P] [US3] åœ¨ tests/validation/test_file_operations.py ä¸­å®ç° test_large_file_handling æµ‹è¯•ç”¨ä¾‹ï¼ˆå¤§æ–‡ä»¶å¤„ç†ï¼‰
- [x] T044 [P] [US3] åœ¨ tests/validation/test_file_operations.py ä¸­å®ç° test_invalid_file_type_rejection æµ‹è¯•ç”¨ä¾‹ï¼ˆä¸å…è®¸çš„æ–‡ä»¶ç±»å‹ï¼‰
- [x] T045 [P] [US3] åœ¨ tests/validation/test_file_operations.py ä¸­å®ç° test_network_interruption_handling æµ‹è¯•ç”¨ä¾‹ï¼ˆç½‘ç»œä¸­æ–­å¤„ç†ï¼‰
- [x] T046 [US3] åœ¨ tests/validation/test_file_operations.py ä¸­å®ç° test_file_content_integrity æµ‹è¯•ç”¨ä¾‹ï¼ˆæ–‡ä»¶å†…å®¹å®Œæ•´æ€§æ ¡éªŒï¼‰

---

## é˜¶æ®µ 5.5: ç‰ˆæœ¬æ§åˆ¶æ£€æŸ¥ç‚¹

**ç›®çš„**: ç¡®ä¿æ–‡ä»¶æ“ä½œæµ‹è¯•å®Œæˆå¹¶è¾¾åˆ°â‰¥95%é€šè¿‡ç‡

- [x] T047 è¿è¡Œ pytest tests/validation/test_file_operations.py -v éªŒè¯æ–‡ä»¶æ“ä½œæµ‹è¯•é€šè¿‡ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)
- [x] T048 éªŒè¯P2åŠŸèƒ½(æ–‡ä»¶æ“ä½œ)è¾¾åˆ°â‰¥95%é€šè¿‡ç‡è¦æ±‚
- [ ] T049 æäº¤ç”¨æˆ·æ•…äº‹3æµ‹è¯•ä»£ç ï¼Œæ¸…æ™°æè¿°æ–‡ä»¶æ“ä½œåŠŸèƒ½å’Œæµ‹è¯•ç»“æœ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)

**æ£€æŸ¥ç‚¹**: æ­¤æ—¶ï¼ŒP1å’ŒP2åŠŸèƒ½æµ‹è¯•éƒ½åº”è¯¥è¾¾åˆ°é€šè¿‡ç‡è¦æ±‚

---

## é˜¶æ®µ 6: ç”¨æˆ·æ•…äº‹ 4 - æ–‡ä»¶æ£€ç´¢åŠŸèƒ½éªŒè¯(ä¼˜å…ˆçº§: P2)

**ç›®æ ‡**: éªŒè¯é‡æ„åçš„ç³»ç»Ÿèƒ½å¤Ÿæ­£ç¡®æ‰§è¡Œæ–‡ä»¶æ£€ç´¢å’Œè¯­ä¹‰æœç´¢åŠŸèƒ½

**ç‹¬ç«‹æµ‹è¯•**: å¯ä»¥é€šè¿‡ä¸Šä¼ å¤šä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œæ–‡ä»¶æ£€ç´¢å’Œè¯­ä¹‰æœç´¢æŸ¥è¯¢ï¼ŒéªŒè¯ç³»ç»Ÿèƒ½å¦æ‰¾åˆ°ç›¸å…³æ–‡ä»¶å¹¶è¿”å›å‡†ç¡®çš„ç»“æœ

### ç”¨æˆ·æ•…äº‹ 4 çš„æµ‹è¯•

- [x] T050 [P] [US4] åœ¨ tests/validation/test_retrieval.py ä¸­åˆ›å»ºæµ‹è¯•æ–‡ä»¶å’ŒåŸºæœ¬ç»“æ„
- [x] T051 [P] [US4] åœ¨ tests/validation/test_retrieval.py ä¸­å®ç° test_keyword_search æµ‹è¯•ç”¨ä¾‹ï¼ˆå…³é”®è¯æœç´¢ï¼‰
- [x] T052 [P] [US4] åœ¨ tests/validation/test_retrieval.py ä¸­å®ç° test_semantic_search æµ‹è¯•ç”¨ä¾‹ï¼ˆè¯­ä¹‰æœç´¢ï¼‰
- [x] T053 [P] [US4] åœ¨ tests/validation/test_retrieval.py ä¸­å®ç° test_nonexistent_keyword_query æµ‹è¯•ç”¨ä¾‹ï¼ˆä¸å­˜åœ¨å…³é”®è¯æŸ¥è¯¢ï¼‰
- [x] T054 [P] [US4] åœ¨ tests/validation/test_retrieval.py ä¸­å®ç° test_fuzzy_query æµ‹è¯•ç”¨ä¾‹ï¼ˆæ¨¡ç³ŠæŸ¥è¯¢ï¼‰
- [x] T055 [US4] åœ¨ tests/validation/test_retrieval.py ä¸­å®ç° test_index_usage æµ‹è¯•ç”¨ä¾‹ï¼ˆç´¢å¼•ä½¿ç”¨éªŒè¯ï¼‰

---

## é˜¶æ®µ 6.5: ç‰ˆæœ¬æ§åˆ¶æ£€æŸ¥ç‚¹

**ç›®çš„**: ç¡®ä¿æ–‡ä»¶æ£€ç´¢æµ‹è¯•å®Œæˆå¹¶è¾¾åˆ°â‰¥95%é€šè¿‡ç‡

- [x] T056 è¿è¡Œ pytest tests/validation/test_retrieval.py -v éªŒè¯æ–‡ä»¶æ£€ç´¢æµ‹è¯•é€šè¿‡ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)
- [x] T057 éªŒè¯P2åŠŸèƒ½(æ–‡ä»¶æ£€ç´¢)è¾¾åˆ°â‰¥95%é€šè¿‡ç‡è¦æ±‚
- [ ] T058 æäº¤ç”¨æˆ·æ•…äº‹4æµ‹è¯•ä»£ç ï¼Œæ¸…æ™°æè¿°æ–‡ä»¶æ£€ç´¢åŠŸèƒ½å’Œæµ‹è¯•ç»“æœ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)

**æ£€æŸ¥ç‚¹**: æ­¤æ—¶ï¼ŒP1å’ŒP2åŠŸèƒ½æµ‹è¯•éƒ½åº”è¯¥è¾¾åˆ°é€šè¿‡ç‡è¦æ±‚

---

## é˜¶æ®µ 7: ç”¨æˆ·æ•…äº‹ 5 - å†å²è®°å½•åŠŸèƒ½éªŒè¯(ä¼˜å…ˆçº§: P3)

**ç›®æ ‡**: éªŒè¯é‡æ„åçš„ç³»ç»Ÿèƒ½å¤Ÿæ­£ç¡®ä¿å­˜å’Œæ£€ç´¢ç”¨æˆ·çš„å¯¹è¯å†å²

**ç‹¬ç«‹æµ‹è¯•**: å¯ä»¥é€šè¿‡è¿›è¡Œå¤šæ¬¡å¯¹è¯äº¤äº’ï¼Œç„¶åæŸ¥è¯¢å†å²è®°å½•ï¼ŒéªŒè¯ç³»ç»Ÿèƒ½å¦æ­£ç¡®ä¿å­˜å’Œè¿”å›ä¹‹å‰çš„å¯¹è¯å†…å®¹

### ç”¨æˆ·æ•…äº‹ 5 çš„æµ‹è¯•

- [x] T059 [P] [US5] åœ¨ tests/validation/test_history.py ä¸­åˆ›å»ºæµ‹è¯•æ–‡ä»¶å’ŒåŸºæœ¬ç»“æ„
- [x] T060 [P] [US5] åœ¨ tests/validation/test_history.py ä¸­å®ç° test_history_save_and_query æµ‹è¯•ç”¨ä¾‹ï¼ˆå†å²è®°å½•ä¿å­˜å’ŒæŸ¥è¯¢ï¼‰
- [x] T061 [P] [US5] åœ¨ tests/validation/test_history.py ä¸­å®ç° test_specific_session_history æµ‹è¯•ç”¨ä¾‹ï¼ˆç‰¹å®šä¼šè¯å†å²ï¼‰
- [x] T062 [US5] åœ¨ tests/validation/test_history.py ä¸­å®ç° test_history_persistence_after_restart æµ‹è¯•ç”¨ä¾‹ï¼ˆæœåŠ¡é‡å¯åæŒä¹…åŒ–ï¼‰

---

## é˜¶æ®µ 7.5: ç‰ˆæœ¬æ§åˆ¶æ£€æŸ¥ç‚¹

**ç›®çš„**: ç¡®ä¿å†å²è®°å½•æµ‹è¯•å®Œæˆå¹¶è¾¾åˆ°â‰¥90%é€šè¿‡ç‡

- [x] T063 è¿è¡Œ pytest tests/validation/test_history.py -v éªŒè¯å†å²è®°å½•æµ‹è¯•é€šè¿‡ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)
- [x] T064 éªŒè¯P3åŠŸèƒ½(å†å²è®°å½•)è¾¾åˆ°â‰¥90%é€šè¿‡ç‡è¦æ±‚
- [ ] T065 æäº¤ç”¨æˆ·æ•…äº‹5æµ‹è¯•ä»£ç ï¼Œæ¸…æ™°æè¿°å†å²è®°å½•åŠŸèƒ½å’Œæµ‹è¯•ç»“æœ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)

**æ£€æŸ¥ç‚¹**: æ‰€æœ‰ç”¨æˆ·æ•…äº‹æµ‹è¯•ç°åœ¨éƒ½åº”è¯¥è¾¾åˆ°é€šè¿‡ç‡è¦æ±‚

---

## é˜¶æ®µ 8: å®Œå–„ä¸æ¨ªåˆ‡å…³æ³¨ç‚¹

**ç›®çš„**: ç”ŸæˆéªŒè¯æŠ¥å‘Šå’Œæ–‡æ¡£

- [x] T066 [P] åœ¨ tests/validation/ ä¸­å®ç°ç”ŸæˆéªŒè¯æŠ¥å‘Šçš„å‡½æ•°ï¼ˆHTMLå’ŒJSONæ ¼å¼ï¼‰
- [ ] T067 [P] æ›´æ–° tests/validation/conftest.py æ·»åŠ  pytest_html_results_summary é’©å­è‡ªå®šä¹‰æŠ¥å‘Šæ‘˜è¦
- [x] T068 è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ pytest tests/validation/ -v --html=reports/test_report.html
- [x] T069 éªŒè¯æ€»ä½“æµ‹è¯•ç»“æœï¼šP1(100%)ã€P2(â‰¥95%)ã€P3(â‰¥90%)
- [x] T070 åˆ›å»ºéªŒè¯æŠ¥å‘Šæ‘˜è¦æ–‡æ¡£ specs/001-refactor-validation/reports/validation_summary.md
- [ ] T071 [P] æ›´æ–° quickstart.md æ–‡æ¡£ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰
- [x] T072 ä»£ç æ¸…ç†å’Œä¼˜åŒ–æµ‹è¯•ä»£ç 

---

## é˜¶æ®µ 8.5: æœ€ç»ˆç‰ˆæœ¬æ§åˆ¶æ£€æŸ¥ç‚¹

**ç›®çš„**: ç¡®ä¿æ‰€æœ‰æµ‹è¯•å®Œæˆå¹¶é€šè¿‡æœ€ç»ˆéªŒè¯

- [x] T073 è¿è¡Œæ‰€æœ‰éªŒè¯æµ‹è¯• pytest tests/validation/ -v --report-format both (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)
- [x] T074 éªŒè¯æ‰€æœ‰æˆåŠŸæ ‡å‡†è¾¾æˆï¼šP1(100%)ã€P2(â‰¥95%)ã€P3(â‰¥90%)ã€æ•°æ®ä¼ è¾“é”™è¯¯ç‡<1%
- [x] T075 æäº¤æœ€ç»ˆéªŒè¯ä»£ç å’ŒæŠ¥å‘Šï¼Œæ¸…æ™°æè¿°æ‰€æœ‰åŠŸèƒ½éªŒè¯ç»“æœ (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)

**æ£€æŸ¥ç‚¹**: å®Œæ•´çš„éªŒè¯æµ‹è¯•å¥—ä»¶å·²å®Œæˆï¼Œæ‰€æœ‰åŠŸèƒ½é€šè¿‡éªŒè¯

---

## ä¾èµ–å…³ç³»ä¸æ‰§è¡Œé¡ºåº

### é˜¶æ®µä¾èµ–å…³ç³»

- **è®¾ç½®(é˜¶æ®µ 1)**: æ— ä¾èµ–å…³ç³» - å¯ç«‹å³å¼€å§‹
- **åŸºç¡€(é˜¶æ®µ 2)**: ä¾èµ–äºè®¾ç½®å®Œæˆ - é˜»å¡æ‰€æœ‰ç”¨æˆ·æ•…äº‹æµ‹è¯•
- **ç”¨æˆ·æ•…äº‹(é˜¶æ®µ 3-7)**: éƒ½ä¾èµ–äºåŸºç¡€æµ‹è¯•è®¾æ–½å®Œæˆ
  - ç„¶åç”¨æˆ·æ•…äº‹æµ‹è¯•å¯ä»¥æŒ‰ä¼˜å…ˆçº§é¡ºåºè¿›è¡Œ(P1 â†’ P2 â†’ P3)
  - æˆ–å¹¶è¡Œè¿›è¡Œ(å¦‚æœæœ‰å¤šäºº)
- **å®Œå–„(æœ€ç»ˆé˜¶æ®µ)**: ä¾èµ–äºæ‰€æœ‰ç”¨æˆ·æ•…äº‹æµ‹è¯•å®Œæˆ

### ç”¨æˆ·æ•…äº‹æµ‹è¯•ä¾èµ–å…³ç³»

- **ç”¨æˆ·æ•…äº‹ 1(P1 - Agent)**: å¯åœ¨åŸºç¡€(é˜¶æ®µ 2)åå¼€å§‹ - æ— å…¶ä»–æµ‹è¯•ä¾èµ–
- **ç”¨æˆ·æ•…äº‹ 2(P1 - æ•°æ®ä¼ è¾“)**: å¯åœ¨åŸºç¡€(é˜¶æ®µ 2)åå¼€å§‹ - å¯ä¸US1å¹¶è¡Œ
- **ç”¨æˆ·æ•…äº‹ 3(P2 - æ–‡ä»¶æ“ä½œ)**: å¯åœ¨åŸºç¡€(é˜¶æ®µ 2)åå¼€å§‹ - å¯ä¸US1ã€US2å¹¶è¡Œ
- **ç”¨æˆ·æ•…äº‹ 4(P2 - æ–‡ä»¶æ£€ç´¢)**: å¯åœ¨åŸºç¡€(é˜¶æ®µ 2)åå¼€å§‹ - å¯ä¸US3å¹¶è¡Œ
- **ç”¨æˆ·æ•…äº‹ 5(P3 - å†å²è®°å½•)**: å¯åœ¨åŸºç¡€(é˜¶æ®µ 2)åå¼€å§‹ - å¯ä¸å…¶ä»–æµ‹è¯•å¹¶è¡Œ

### æ¯ä¸ªç”¨æˆ·æ•…äº‹æµ‹è¯•å†…éƒ¨

- æµ‹è¯•ç”¨ä¾‹ç¼–å†™éµå¾ªGiven-When-Thenæ ¼å¼
- ç›¸åŒæµ‹è¯•æ–‡ä»¶å†…çš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥å¹¶è¡Œç¼–å†™(æ ‡è®°ä¸º[P])
- ä¸åŒæµ‹è¯•æ–‡ä»¶çš„æµ‹è¯•å¯ä»¥å®Œå…¨å¹¶è¡Œæ‰§è¡Œ
- æ¯ä¸ªç”¨æˆ·æ•…äº‹æµ‹è¯•å®Œæˆåå¿…é¡»éªŒè¯é€šè¿‡ç‡

### å¹¶è¡Œæœºä¼š

- æ‰€æœ‰æ ‡è®°ä¸º [P] çš„è®¾ç½®ä»»åŠ¡å¯ä»¥å¹¶è¡Œè¿è¡Œ
- æ‰€æœ‰æ ‡è®°ä¸º [P] çš„åŸºç¡€ä»»åŠ¡å¯ä»¥å¹¶è¡Œè¿è¡Œ(åœ¨é˜¶æ®µ 2 å†…)
- åŸºç¡€é˜¶æ®µå®Œæˆåï¼Œæ‰€æœ‰ç”¨æˆ·æ•…äº‹æµ‹è¯•å¯ä»¥å¹¶è¡Œå¼€å§‹
- ç”¨æˆ·æ•…äº‹ä¸­æ‰€æœ‰æ ‡è®°ä¸º [P] çš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥å¹¶è¡Œç¼–å†™
- ä¸åŒç”¨æˆ·æ•…äº‹çš„æµ‹è¯•å¯ä»¥ç”±ä¸åŒæµ‹è¯•äººå‘˜å¹¶è¡Œå¤„ç†

---

## å¹¶è¡Œç¤ºä¾‹: ç”¨æˆ·æ•…äº‹ 1(AgentåŠŸèƒ½æµ‹è¯•)

```bash
# ä¸€èµ·å¯åŠ¨ç”¨æˆ·æ•…äº‹1çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ç¼–å†™(å¹¶è¡Œ):
ä»»åŠ¡ T023: "å®ç° test_agent_simple_chat æµ‹è¯•ç”¨ä¾‹"
ä»»åŠ¡ T024: "å®ç° test_agent_tool_call æµ‹è¯•ç”¨ä¾‹"
ä»»åŠ¡ T025: "å®ç° test_agent_complex_reasoning æµ‹è¯•ç”¨ä¾‹"
ä»»åŠ¡ T026: "å®ç° test_agent_error_handling æµ‹è¯•ç”¨ä¾‹"

# æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ç¼–å†™å®Œæˆåï¼Œç»Ÿä¸€è¿è¡Œæµ‹è¯•:
pytest tests/validation/test_agent.py -v
```

---

## å¹¶è¡Œç¤ºä¾‹: å¤šç”¨æˆ·æ•…äº‹å¹¶è¡Œ

```bash
# åŸºç¡€å®Œæˆåï¼Œå¯ä»¥å¹¶è¡Œå¯åŠ¨å¤šä¸ªç”¨æˆ·æ•…äº‹æµ‹è¯•:
# æµ‹è¯•äººå‘˜ A: ç”¨æˆ·æ•…äº‹ 1 (AgentåŠŸèƒ½)
pytest tests/validation/test_agent.py -v

# æµ‹è¯•äººå‘˜ B: ç”¨æˆ·æ•…äº‹ 2 (æ•°æ®ä¼ è¾“)
pytest tests/validation/test_data_transmission.py -v

# æµ‹è¯•äººå‘˜ C: ç”¨æˆ·æ•…äº‹ 3 (æ–‡ä»¶æ“ä½œ)
pytest tests/validation/test_file_operations.py -v
```

---

## å®æ–½ç­–ç•¥

### MVP(ä»…P1åŠŸèƒ½æµ‹è¯•)

1. å®Œæˆé˜¶æ®µ 1: è®¾ç½®æµ‹è¯•ç¯å¢ƒ
2. å®Œæˆé˜¶æ®µ 2: æµ‹è¯•åŸºç¡€è®¾æ–½(å…³é”® - é˜»å¡æ‰€æœ‰æµ‹è¯•)
3. å®Œæˆé˜¶æ®µ 3: ç”¨æˆ·æ•…äº‹ 1(AgentåŠŸèƒ½æµ‹è¯•)
4. å®Œæˆé˜¶æ®µ 4: ç”¨æˆ·æ•…äº‹ 2(æ•°æ®ä¼ è¾“æµ‹è¯•)
5. **åœæ­¢å¹¶éªŒè¯**: P1åŠŸèƒ½è¾¾åˆ°100%é€šè¿‡ç‡
6. ç”ŸæˆéªŒè¯æŠ¥å‘Šå¹¶æäº¤

### å¢é‡äº¤ä»˜

1. å®Œæˆè®¾ç½® + åŸºç¡€ â†’ æµ‹è¯•åŸºç¡€å°±ç»ª
2. æ·»åŠ P1æµ‹è¯•(Agent + æ•°æ®ä¼ è¾“) â†’ éªŒè¯100%é€šè¿‡ç‡ â†’ ç”ŸæˆæŠ¥å‘Š(MVPéªŒè¯!)
3. æ·»åŠ P2æµ‹è¯•(æ–‡ä»¶æ“ä½œ + æ–‡ä»¶æ£€ç´¢) â†’ éªŒè¯â‰¥95%é€šè¿‡ç‡ â†’ æ›´æ–°æŠ¥å‘Š
4. æ·»åŠ P3æµ‹è¯•(å†å²è®°å½•) â†’ éªŒè¯â‰¥90%é€šè¿‡ç‡ â†’ æœ€ç»ˆæŠ¥å‘Š
5. æ¯ä¸ªé˜¶æ®µå¢åŠ æµ‹è¯•è¦†ç›–èŒƒå›´ï¼Œé€æ­¥éªŒè¯æ‰€æœ‰åŠŸèƒ½

### å¹¶è¡Œæµ‹è¯•ç­–ç•¥

æœ‰å¤šä¸ªæµ‹è¯•äººå‘˜æ—¶ï¼š

1. å›¢é˜Ÿä¸€èµ·å®Œæˆè®¾ç½® + åŸºç¡€æµ‹è¯•è®¾æ–½
2. åŸºç¡€å®Œæˆå:
   - æµ‹è¯•äººå‘˜ A: ç”¨æˆ·æ•…äº‹ 1(Agent)
   - æµ‹è¯•äººå‘˜ B: ç”¨æˆ·æ•…äº‹ 2(æ•°æ®ä¼ è¾“)
   - æµ‹è¯•äººå‘˜ C: ç”¨æˆ·æ•…äº‹ 3(æ–‡ä»¶æ“ä½œ)
   - æµ‹è¯•äººå‘˜ D: ç”¨æˆ·æ•…äº‹ 4(æ–‡ä»¶æ£€ç´¢)
3. æµ‹è¯•ç‹¬ç«‹å®Œæˆå’Œæ±‡æ€»æŠ¥å‘Š

---

## æˆåŠŸæ ‡å‡†éªŒè¯æ¸…å•

### P1åŠŸèƒ½æµ‹è¯•(å¿…é¡»100%é€šè¿‡)

- [ ] AgentåŠŸèƒ½æµ‹è¯•(test_agent.py)
  - [ ] ç®€å•å¯¹è¯è¯·æ±‚æ­£ç¡®å“åº”
  - [ ] å·¥å…·è°ƒç”¨æ­£ç¡®è¯†åˆ«å’Œæ‰§è¡Œ
  - [ ] å¤šæ­¥æ¨ç†æ­£ç¡®å¤„ç†
  - [ ] é”™è¯¯è¾“å…¥è¿”å›æ˜ç¡®é”™è¯¯è€Œéå´©æºƒ
  - [ ] æµå¼è¾“å‡ºæ­£ç¡®æ¥æ”¶

- [ ] æ•°æ®ä¼ è¾“æµ‹è¯•(test_data_transmission.py)
  - [ ] æ–‡æœ¬å“åº”æ­£ç¡®ä¼ è¾“å’Œæ˜¾ç¤º
  - [ ] ç‰¹æ®Šå­—ç¬¦æ­£ç¡®è§£ææ— ä¹±ç 
  - [ ] å·¥å…·æ‰§è¡Œç»“æœæ­£ç¡®è§£æ
  - [ ] é”™è¯¯ä¿¡æ¯æ­£ç¡®è¯†åˆ«å’Œæ˜¾ç¤º
  - [ ] å¤§æ•°æ®é‡æ— æˆªæ–­

### P2åŠŸèƒ½æµ‹è¯•(å¿…é¡»â‰¥95%é€šè¿‡)

- [ ] æ–‡ä»¶æ“ä½œæµ‹è¯•(test_file_operations.py)
  - [ ] æ–‡æœ¬æ–‡ä»¶ä¸Šä¼ ä¸‹è½½å†…å®¹å®Œæ•´
  - [ ] äºŒè¿›åˆ¶æ–‡ä»¶ä¸Šä¼ ä¸‹è½½æ•°æ®å®Œæ•´
  - [ ] å¤§æ–‡ä»¶æ­£ç¡®å¤„ç†æˆ–æ˜ç¡®é”™è¯¯
  - [ ] ä¸å…è®¸æ–‡ä»¶ç±»å‹è¿”å›æ˜ç¡®é”™è¯¯
  - [ ] ç½‘ç»œä¸­æ–­æ­£ç¡®æ£€æµ‹å’ŒæŠ¥å‘Š
  - [ ] æ–‡ä»¶å†…å®¹å®Œæ•´æ€§æ ¡éªŒå‡†ç¡®

- [ ] æ–‡ä»¶æ£€ç´¢æµ‹è¯•(test_retrieval.py)
  - [ ] å…³é”®è¯æœç´¢è¿”å›æ­£ç¡®æ–‡ä»¶åˆ—è¡¨
  - [ ] è¯­ä¹‰æœç´¢è¿”å›ç›¸å…³æ–‡ä»¶å¹¶æ’åº
  - [ ] ä¸å­˜åœ¨å…³é”®è¯è¿”å›ç©ºç»“æœ
  - [ ] æ¨¡ç³ŠæŸ¥è¯¢è¿”å›éƒ¨åˆ†åŒ¹é…ç»“æœ
  - [ ] ä½¿ç”¨å·²æœ‰ç´¢å¼•æ— éœ€é‡æ–°ç´¢å¼•

### P3åŠŸèƒ½æµ‹è¯•(å¿…é¡»â‰¥90%é€šè¿‡)

- [ ] å†å²è®°å½•æµ‹è¯•(test_history.py)
  - [ ] å†å²è®°å½•æ­£ç¡®ä¿å­˜å’ŒæŸ¥è¯¢
  - [ ] ç‰¹å®šä¼šè¯å†å²å®Œæ•´æ˜¾ç¤º
  - [ ] æœåŠ¡é‡å¯åå†å²è®°å½•æŒä¹…åŒ–

### æ€»ä½“æ ‡å‡†

- [ ] å‰åç«¯æ•°æ®ä¼ è¾“é”™è¯¯ç‡<1%(åŸºäº100æ¬¡æµ‹è¯•è¯·æ±‚)
- [ ] è¯­ä¹‰æœç´¢å‡†ç¡®æ€§â‰¥80%(åŸºäºäººå·¥è¯„ä¼°)
- [ ] æ‰€æœ‰æµ‹è¯•ä½¿ç”¨çœŸå®APIï¼Œç¦æ­¢mock
- [ ] æ¯ä¸ªåŠŸèƒ½è‡³å°‘5ä¸ªç‹¬ç«‹æµ‹è¯•æ ·ä¾‹
- [ ] éªŒè¯æŠ¥å‘Šæ¸…æ™°åˆ—å‡ºæ‰€æœ‰æµ‹è¯•ç»“æœ
- [ ] æ‰€æœ‰é”™è¯¯è®°å½•åœ¨æ¡ˆå¹¶ç¡®å®šä¿®å¤ä¼˜å…ˆçº§

---

## æ³¨æ„äº‹é¡¹

- [P] ä»»åŠ¡ = ä¸åŒæ–‡ä»¶ï¼Œæ— ä¾èµ–å…³ç³»
- [Story] æ ‡ç­¾å°†ä»»åŠ¡æ˜ å°„åˆ°ç‰¹å®šç”¨æˆ·æ•…äº‹ä»¥å®ç°å¯è¿½æº¯æ€§
- æ¯ä¸ªç”¨æˆ·æ•…äº‹æµ‹è¯•åº”è¯¥ç‹¬ç«‹å¯æ‰§è¡Œå’ŒéªŒè¯
- æµ‹è¯•å¿…é¡»ä½¿ç”¨çœŸå®APIï¼Œç¦æ­¢mock(éµå¾ªç« ç¨‹: æµ‹è¯•çœŸå®æ€§)
- æ¯ä¸ªæµ‹è¯•æ–‡ä»¶è‡³å°‘åŒ…å«5ä¸ªæµ‹è¯•ç”¨ä¾‹(éµå¾ªè§„èŒƒè¦æ±‚)
- æµ‹è¯•å¤±è´¥æ—¶ä¸å…è®¸æäº¤ä»£ç (éµå¾ªç« ç¨‹: ç‰ˆæœ¬æ§åˆ¶ä¸æµ‹è¯•çºªå¾‹)
- åœ¨æ¯ä¸ªæ£€æŸ¥ç‚¹éªŒè¯é€šè¿‡ç‡è¦æ±‚
- æ‰€æœ‰æµ‹è¯•ä»£ç ã€æ³¨é‡Šã€æ–‡æ¡£ä½¿ç”¨ä¸­æ–‡(éµå¾ªç« ç¨‹: è¯­è¨€è§„èŒƒ)
